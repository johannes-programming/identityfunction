<!DOCTYPE html>
<html>
    <head>
        <title>identityfunction</title>
    </head>
    <body>
        <dl class="heading0">
            <dt>
                <a>identityfunction</a>
                <p>
                    Version: 
                    <select id="version">
                        <option>1.0.1</option>
                        <option>1.0.2</option>
                        <option selected>1.0.3</option>
                    </select>
                </p></dt>
            <dd>
                <dl class="heading1">
                    <dt id="intro">Introduction</dt>
                    <dd id="introCorpus">
                        <p>
                            This project provides the identity function.
                        </p>
                    </dd>
                    <dt id="links">Links</dt>
                    <dd id="linksCorpus"></dd>
                    <dt id="install">Installation</dt>
                    <dd id="installCorpus"></dd>
                    <dt id="features">Features</dt>
                    <dd id="featuresCorpus">
                        <dl class="heading4">
                            <dt id="identityfunction" version="1.0.1">identityfunction.identityfunction(value: object, /) -> object</dt>
                            <dt id="identityfunction" version="1.0.2 1.0.3">identityfunction.identityfunction(value: Any, /) -> Any</dt>
                            <dd>
                                <p>This function returns the value given to it.</p>
                            </dd>
                            <dt id="main" version="1.0.2 1.0.3">identityfunction.main</dt>
                            <dd version="1.0.2 1.0.3">
                                <p>This <a href="https://click.palletsprojects.com/en/stable/">click</a> command implements a CLI for the identityfunction.</p>
                            </dd>
                        </dl>
                    </dd>
                    <dt id="testing">Testing</dt>
                    <dd id="testingCorpus"></dd>
                    <dt id="license">License</dt>
                    <dd id="licenseCorpus"></dd>
                    <dt id="impressum">Impressum</dt>
                    <dd id="impressumCorpus"></dd>
                </dl>
            </dd>
        </dl>
    </body>
    <script src="https://www.johannes-programming.online/script.js"></script>
    <script>
        function getVersionFromUrl() {
            const params = new URLSearchParams(window.location.search);
            return params.get('version');
        }

        function setVersionInUrl(version) {
            const params = new URLSearchParams(window.location.search);
            params.set('version', version);
            const newUrl = window.location.pathname + '?' + params.toString();
            history.replaceState(null, '', newUrl);
        }

        function updateVersionVisibilityElement(el) {
            const select = document.getElementById('version');
            if (select === null){return;}
            const currentVersion = select.value;
            const versionsAttr = el.getAttribute('version') || '';
            const versions = versionsAttr.split(/\s+/).filter(Boolean);
            const shouldShow = versions.includes(currentVersion);

            if (shouldShow) {el.classList.remove('hidden');} 
            else {el.classList.add('hidden');}
        }

        function updateVersionVisibility() {
            const versionedElements = document.querySelectorAll('[version]');
            versionedElements.forEach(updateVersionVisibilityElement);
        }

        function updateVersionVisibilityLoad() {
            const select = document.getElementById('version');
            if (select === null) { return; }

            // Initialize from URL if possible
            const urlVersion = getVersionFromUrl();
            if (urlVersion) {
                const optionExists = Array.from(select.options)
                    .some(opt => opt.value === urlVersion);
                if (optionExists) {
                    select.value = urlVersion;
                }
            }

            // On change, update URL and visibility
            select.addEventListener('change', function () {
                setVersionInUrl(select.value);
                updateVersionVisibility();
            });

            updateVersionVisibility();
        }

        function setupVersionVisibility() {
            document.addEventListener('DOMContentLoaded', updateVersionVisibilityLoad);
            updateVersionVisibilityLoad();
        }

        setupLinksCorpus("identityfunction");
        setupInstallCorpus("identityfunction");
        setupTestingCorpus("identityfunction");
        setupLicenseCorpus("identityfunction");
        setupImpressumCorpus("identityfunction");
        addMetaAndLinkTags();
        setupVersionVisibility();
    </script>
</html>
